问题：
* 调度器取任务的时间和分配任务的时间如何确定？\
设置了一套比较合理的逻辑，如下：

* 调度器初次开始工作时，如果暂时没有任务需要处理该怎么办？调度器在启动后，是首次到来任务前一直轮询还是设置一个休眠机制？如何保证一个间隔时间短的任务能够及时被调度执行呢？
    1. 内存中没有job需要分配时，进入休眠状态
    2. fetchJob协程从reids中取出任务后通过chan发送信息，唤醒调度器
    3. 调度器开始工作
    4. 循环上述过程

* 调度器在工作的过程中，客户端插入了一条新的定时任务，该如何处理？
    1. 该任务的执行时间在当前时间之前，判断为无效的请求，直接丢弃
    2. 该任务的执行时间在当前调度的时间段内，立即开始分配该任务
    3. 该任务的执行时间在下一个调度的时间段内，将其插入小根堆中
    4. 其他情况下，不放入小根堆中，先放入redis调度列表中等待时间到来开始调度
    > 以上2，3，4情况，都需要将job的信息存入redis的哈希表中\
    > 后续：直接把2，3情况合并为一种了

* 具体的精确的时间逻辑不太好写，每个函数或者每条指令的执行时间是不确定的，只能按照大概的时间来进行任务的调度和执行，但是需要提前分配任务，以提前解决通信开销等，保证任务在预期的时间开始执行
    > 采用的方法是提前1/10个Interval的时间开始取任务，取完任务后立即开始分配任务，但是可能存在问题，如果当此次调度需要取的任务数相当大而Interval相当小时，可能会导致错过任务的执行时间，这里不予考虑了，假定不会发生这种情况（实际上我的Interval一般是分钟级或者小时级的）

* grpc同一端口上注册两个服务发生问题，程序阻塞在Serve处，debug后还是没有找到问题，以为是端口冲突问题，后修改代码将两个服务注册到同一端口上，依然阻塞，后发现Server操作本身是阻塞的，将其放入goroutine中解决问题

* 结构体中带指针或者数组时，直接初始化结构体会创建空指针，后续访问该地址时会发生空指针错误（没有构造函数的功能），需要在初始化时手动为变量分配空间

* 初始化map时一定要有make，map的初始值不是空map，而是一个nil值
* 定义chan时同理，但是更没想到的一点是向一个没有分配空间的chan传递数据时，程序会阻塞，不会报错（气死了，这里卡了好久）

* 对于grpc的服务注册也存在一些误解，初次使用感觉有点绕圈子的意思

* 编码过程一定要仔细，Unlock写成了Lock，程序死锁检测不到，浪费一下午
